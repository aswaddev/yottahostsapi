{"version":3,"sources":["App.js","index.js","images/loader.svg"],"names":["App","useState","isLoading","products","activeProduct","state","setState","useEffect","fetch","then","res","json","setActiveProduct","e","filter","product","id","target","dataset","clearModal","handleCart","data","items","quantity","console","log","method","headers","body","JSON","stringify","response","nextStepUrl","window","location","href","catch","error","className","src","Loader","alt","map","key","style","height","overflow","image","title","listPrice","term","oneTimeCharge","displayTaxesAndFees","tld","onClick","data-id","tags","tag","toLowerCase","categories","category","dangerouslySetInnerHTML","__html","content","tabIndex","role","aria-labelledby","aria-hidden","display","background","type","aria-label","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.c7c7d565.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Loader from './images/loader.svg';\n\nconst App = () => {\n  const [state, setState] = useState({\n    isLoading: true,\n    products: [],\n    activeProduct: null,\n  });\n\n  useEffect(() => {\n    fetch(\n      'https://www.secureserver.net/api/v1/catalog/562883/products?currencyType=GBP&marketId=en-GB'\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        setState({\n          ...state,\n          isLoading: false,\n          products: res,\n        });\n      });\n    // eslint-disable-next-line\n  }, []);\n\n  const setActiveProduct = (e) => {\n    setState({\n      ...state,\n      activeProduct: state.products.filter(\n        (product) => product.id === e.target.dataset.id\n      )[0],\n    });\n  };\n\n  const clearModal = (e) => {\n    setState({\n      ...state,\n      activeProduct: null,\n    });\n  };\n\n  const handleCart = (e) => {\n    const product = state.products.filter(\n      (product) => product.id === e.target.dataset.id\n    )[0];\n    const cartItem = {\n      id: product.id,\n      quantity: 1,\n    };\n    const data = {\n      items: [cartItem],\n    };\n    console.log(data);\n    fetch(\n      'https://www.secureserver.net/api/v1/cart/562883?itc=slp_rstdstors&redirect=false',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      }\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.nextStepUrl) window.location.href = data.nextStepUrl;\n        console.log('Success:', data);\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n  };\n\n  if (state.isLoading)\n    return (\n      <div className='loader'>\n        <img src={Loader} alt='Loading...' />\n      </div>\n    );\n\n  return (\n    <div>\n      <nav className='navbar navbar-dark bg-dark'>\n        <div className='container'>\n          <span className='navbar-brand mb-0 h1'>Yotta Hosts API</span>\n        </div>\n      </nav>\n      <div className='container mt-3'>\n        <div className='row'>\n          {state.products.map((product) => (\n            <div className='col-md-6 mb-3' key={product.id}>\n              <div\n                className='card'\n                style={{ height: '700px', overflow: 'hidden' }}\n              >\n                <img src={product.image} className='card-img-top py-5' alt='' />\n                <div className='card-body'>\n                  <h5 className='card-title'>{product.title}</h5>\n                  <h6 className='card-subtitle mb-2'>\n                    <span className='text-primary'>{product.listPrice}</span>{' '}\n                    per {product.term} {` `}\n                    {product.oneTimeCharge ? '(One Time Charge)' : ''}\n                  </h6>\n                  <small className='text-muted'>\n                    Price excludes applicable taxes and{' '}\n                    {product.displayTaxesAndFees} fees.\n                  </small>{' '}\n                  <br />\n                  {!product.tld && (\n                    <button\n                      onClick={handleCart}\n                      data-id={product.id}\n                      className='btn btn-secondary mt-2'\n                    >\n                      Add to cart\n                    </button>\n                  )}\n                  <div className='mt-2'>\n                    Tags:{' '}\n                    {product.tags.map((tag) => (\n                      <div\n                        key={tag}\n                        className='badge badge-pill badge-info mr-1'\n                      >\n                        {tag.toLowerCase()}\n                      </div>\n                    ))}\n                  </div>\n                  <div className='mt-2'>\n                    Categories:{' '}\n                    {product.categories.map((category) => {\n                      if (typeof category === 'object' && category !== null) {\n                        return (\n                          <div\n                            key={category}\n                            className='badge badge-pill badge-info mr-1'\n                          >\n                            {JSON.stringify(category)}\n                          </div>\n                        );\n                      } else {\n                        return (\n                          <div\n                            key={category}\n                            className='badge badge-pill badge-info mr-1'\n                          >\n                            {category}\n                          </div>\n                        );\n                      }\n                    })}\n                  </div>\n                  <div\n                    className='card-text mt-3'\n                    dangerouslySetInnerHTML={{\n                      __html: product.content,\n                    }}\n                  />\n                  <button\n                    data-id={product.id}\n                    className='btn btn-link text primary'\n                    onClick={setActiveProduct}\n                  >\n                    Read more\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      {state.activeProduct && (\n        <div\n          className='modal fade show'\n          id='exampleModal'\n          tabIndex='-1'\n          role='dialog'\n          aria-labelledby='exampleModalLabel'\n          aria-hidden='false'\n          style={{ display: 'block', background: 'rgba(0,0,0,0.5)' }}\n        >\n          <div className='modal-dialog modal-dialog-scrollable modal-lg'>\n            <div className='modal-content'>\n              <div className='modal-header'>\n                <h5 className='modal-title' id='exampleModalLabel'>\n                  {state.activeProduct.title}\n                </h5>\n                <button\n                  type='button'\n                  className='close'\n                  aria-label='Close'\n                  onClick={clearModal}\n                >\n                  <span aria-hidden='true'>&times;</span>\n                </button>\n              </div>\n              <div className='modal-body'>\n                <div className='card'>\n                  <img\n                    src={state.activeProduct.image}\n                    className='card-img-top py-5'\n                    alt=''\n                  />\n                  <div className='card-body'>\n                    <h5 className='card-title'>{state.activeProduct.title}</h5>\n                    <h6 className='card-subtitle mb-2'>\n                      <span className='text-primary'>\n                        {state.activeProduct.listPrice}\n                      </span>{' '}\n                      per {state.activeProduct.term} {` `}\n                      {state.activeProduct.oneTimeCharge\n                        ? '(One Time Charge)'\n                        : ''}\n                    </h6>\n                    <small className='text-muted'>\n                      Price excludes applicable taxes and{' '}\n                      {state.activeProduct.displayTaxesAndFees} fees.\n                    </small>{' '}\n                    <br />\n                    {!state.activeProduct.tld && (\n                      <button\n                        onClick={handleCart}\n                        data-id={state.activeProduct.id}\n                        className='btn btn-secondary mt-2'\n                      >\n                        Add to cart\n                      </button>\n                    )}\n                    <div className='mt-2'>\n                      Tags:{' '}\n                      {state.activeProduct.tags.map((tag) => (\n                        <div\n                          key={tag}\n                          className='badge badge-pill badge-info mr-1'\n                        >\n                          {tag.toLowerCase()}\n                        </div>\n                      ))}\n                    </div>\n                    <div className='mt-2'>\n                      Categories:{' '}\n                      {state.activeProduct.categories.map((category) => {\n                        if (typeof category === 'object' && category !== null) {\n                          return (\n                            <div\n                              key={category}\n                              className='badge badge-pill badge-info mr-1'\n                            >\n                              {JSON.stringify(category)}\n                            </div>\n                          );\n                        } else {\n                          return (\n                            <div\n                              key={category}\n                              className='badge badge-pill badge-info mr-1'\n                            >\n                              {category}\n                            </div>\n                          );\n                        }\n                      })}\n                    </div>\n                    <div\n                      className='card-text mt-3'\n                      dangerouslySetInnerHTML={{\n                        __html: state.activeProduct.content,\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className='modal-footer'>\n                <button\n                  type='button'\n                  className='btn btn-secondary'\n                  onClick={clearModal}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/loader.1336a69b.svg\";"],"sourceRoot":""}